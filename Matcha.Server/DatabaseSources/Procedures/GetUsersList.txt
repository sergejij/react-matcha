CREATE PROCEDURE GetUsersList(
	skip INT,
	take INT
)

BEGIN

	SELECT
        data.name,
        data.surname,
        data.location,
        data.age,
        data.post,
        data.biography,
        s1.sex as sex,
        s2.sex as sex_preference,
        rel.status as  relationship_status,
        a1.attitude as attitude_to_smoking,
        a2.attitude as attitude_to_alcohol
    FROM
        user_full_data AS data
    JOIN
        sexes AS s1 ON data.sex = s1.id
    JOIN
        sexes AS s2 ON data.sex_preference = s2.id
    JOIN
        relationship_statuses AS rel ON data.relationship_status = rel.id
    JOIN
        attitudes AS a1 ON data.attitude_to_smoking = a1.id
    JOIN
        attitudes AS a2 ON data.attitude_to_alcohol = a2.id
    ORDER BY data.id
    LIMIT take OFFSET skip;

END